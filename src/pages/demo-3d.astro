---
import RoverScene from "@/components/RoverScene";
---

<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>3D Rover Demo - MRover</title>
    <style>
      @import url("https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap");

      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      html {
        scroll-behavior: smooth;
      }

      body {
        font-family:
          "Inter",
          -apple-system,
          BlinkMacSystemFont,
          "Segoe UI",
          sans-serif;
        background: #0a0a1a;
        color: #ffffff;
        overflow-x: hidden;
      }

      .scroll-container {
        position: relative;
        z-index: 1;
      }

      .section {
        height: 100vh;
        display: flex;
        align-items: center;
        justify-content: center;
        padding: 2rem;
        position: relative;
      }

      .content-wrapper {
        max-width: 1200px;
        width: 100%;
        margin: 0 auto;
        display: flex;
        align-items: center;
        justify-content: center;
      }

      .hero-section {
        text-align: center;
        background: transparent;
      }

      .hero-text-stack {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        gap: 1rem;
      }

      .hero-title {
        font-size: clamp(3rem, 8vw, 6rem);
        font-weight: 800;
        margin: 0;
        background: linear-gradient(135deg, #00274c 0%, #ff6b35 100%);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
        opacity: 0;
        transform: translateY(30px);
      }

      .hero-subtitle {
        font-size: clamp(1.2rem, 3vw, 2rem);
        color: #9ca3af;
        margin: 0;
        opacity: 0;
        transform: translateY(30px);
      }

      .scroll-indicator {
        position: absolute;
        bottom: 2rem;
        left: 50%;
        transform: translateX(-50%);
        opacity: 0;
      }

      .scroll-indicator svg {
        width: 2rem;
        height: 2rem;
        animation: bounce 2s infinite;
      }

      @keyframes bounce {
        0%,
        20%,
        50%,
        80%,
        100% {
          transform: translateY(0);
        }
        40% {
          transform: translateY(-10px);
        }
        60% {
          transform: translateY(-5px);
        }
      }

      .content-section {
        background: rgba(15, 51, 119, 0.05);
        backdrop-filter: blur(10px);
        border-radius: 1rem;
        padding: 3rem;
        opacity: 0;
        transform: translateY(50px);
        width: 100%;
      }

      .section-split {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 3rem;
        align-items: center;
        width: 100%;
      }

      .section-text-content {
        display: flex;
        flex-direction: column;
        justify-content: center;
      }

      .section-title {
        font-size: clamp(2rem, 5vw, 3.5rem);
        font-weight: 700;
        margin-bottom: 2rem;
        color: #ff6b35;
      }

      .section-text {
        font-size: clamp(1rem, 2vw, 1.25rem);
        line-height: 1.8;
        color: #d1d5db;
        margin-bottom: 1.5rem;
      }

      .grid-2 {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        gap: 2rem;
        margin-top: 2rem;
      }

      .card {
        background: rgba(255, 255, 255, 0.05);
        padding: 2rem;
        border-radius: 0.5rem;
        border: 1px solid rgba(251, 196, 33, 0.2);
        transition: all 0.3s ease;
      }

      .card:hover {
        background: rgba(251, 196, 33, 0.1);
        border-color: rgba(251, 196, 33, 0.5);
        transform: translateY(-5px);
      }

      .card h3 {
        font-size: 1.5rem;
        font-weight: 600;
        margin-bottom: 1rem;
        color: #ff6b35;
      }

      .card p {
        color: #9ca3af;
        line-height: 1.6;
      }

      .cta-button {
        display: inline-block;
        padding: 1rem 2rem;
        font-size: 1.125rem;
        font-weight: 600;
        text-transform: uppercase;
        border-radius: 0.5rem;
        transition: all 0.3s ease;
        text-decoration: none;
        margin-top: 1rem;
      }

      .cta-button-blue {
        background: #00274c;
        color: white;
      }

      .cta-button-blue:hover {
        background: #1a4a9e;
        transform: translateY(-2px);
        box-shadow: 0 10px 25px rgba(15, 51, 119, 0.3);
      }

      .cta-button-yellow {
        background: #ff6b35;
        color: #0a0a1a;
      }

      .cta-button-yellow:hover {
        background: #ffd54f;
        transform: translateY(-2px);
        box-shadow: 0 10px 25px rgba(251, 196, 33, 0.3);
      }

      .video-container {
        position: relative;
        width: 100%;
        height: 100%;
        max-height: 450px;
        overflow: hidden;
        border-radius: 1rem;
      }

      .video-container iframe {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        border: 0;
      }

      .image-container {
        width: 100%;
        height: 100%;
        max-height: 450px;
        border-radius: 1rem;
        overflow: hidden;
      }

      .image-container img {
        width: 100%;
        height: 100%;
        object-fit: cover;
      }

      @media (max-width: 968px) {
        .section {
          padding: 2rem 1rem;
          height: auto;
          min-height: 100vh;
        }

        .content-section {
          padding: 2rem 1.5rem;
        }

        .section-split {
          grid-template-columns: 1fr;
          gap: 2rem;
        }

        .image-container {
          height: 300px;
          max-height: 300px;
        }

        .video-container {
          height: 300px;
          max-height: 300px;
        }
      }
    </style>
  </head>
  <body>
    <RoverScene client:load />

    <div class="scroll-container">
      <!-- Hero Section -->
      <section class="section hero-section">
        <div class="content-wrapper">
          <div class="hero-text-stack">
            <h1 class="hero-title">Michigan Mars Rover Team</h1>
            <p class="hero-subtitle">Exploring the Future of Space Robotics</p>
          </div>
          <div class="scroll-indicator">
            <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
            </svg>
          </div>
        </div>
      </section>

      <!-- Who We Are Section -->
      <section class="section">
        <div class="content-wrapper">
          <div class="content-section">
            <div class="section-split">
              <div class="section-text-content">
                <h2 class="section-title">Who we are</h2>
                <p class="section-text">
                  The Michigan Mars Rover Team (MRover) is a student-run, multidisciplinary organization whose mission
                  is to design and build a rover for the exploration of extraterrestrial environments. Our team consists
                  of everyone from freshman to graduate students, representing majors from the College of Engineering
                  and the College of Literature, Science, and the Arts.
                </p>
                <p class="section-text">
                  We strive to inspire and educate students about space, Mars exploration, and engineering, and we focus
                  on helping students grow as engineers.
                </p>
              </div>
              <div class="image-container">
                <img src="/images/SAR_GOBLUESHOT.png" alt="Mars Rover Team" />
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- What We Do Section -->
      <section class="section">
        <div class="content-wrapper">
          <div class="content-section">
            <div class="section-split">
              <div class="video-container">
                <iframe
                  src="https://www.youtube.com/embed/QMt2GuHuyyI?si=Z9nYiCQTfpR1cdBd"
                  title="MRover Video"
                  allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
                  allowfullscreen></iframe>
              </div>
              <div class="section-text-content">
                <h2 class="section-title">What we do</h2>
                <p class="section-text">
                  As a competition-oriented team, our goal is to win the annual University Rover Challenge (URC) at the
                  Mars Society's Mars Desert Research Station near Hanksville, Utah. The competition has gained
                  worldwide attention from academia and industry, and teams from all over the globe come to compete.
                </p>
                <p class="section-text">
                  This past summer, URC hosted 36 teams from fifteen countries. MRover secured 11th place at the
                  competition!
                </p>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- Where We Are Section -->
      <section class="section">
        <div class="content-wrapper">
          <div class="content-section">
            <div class="section-split">
              <div class="section-text-content">
                <h2 class="section-title">Where we are</h2>
                <p class="section-text">
                  We meet throughout the week at the Wilson Student Team Project Center on North Campus and hold weekly
                  team meetings at 12:00pm in 1109 FXB every Sunday. Feel free to stop by and see what we are up to.
                </p>
              </div>
              <div class="image-container">
                <img src="/images/pit.jpg" alt="Team workspace" />
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- Join/Sponsor Section -->
      <section class="section">
        <div class="content-wrapper">
          <div class="content-section">
            <h2 class="section-title">Get Involved</h2>
            <div class="grid-2">
              <div class="card">
                <h3>Join us!</h3>
                <p>
                  Interested in joining MRover? We are always looking for students passionate about space exploration
                  and engineering.
                </p>
                <a href="/join" class="cta-button cta-button-blue">How to Join</a>
              </div>
              <div class="card">
                <h3>Sponsor us!</h3>
                <p>
                  Interested in helping us win the University Rover Challenge? Any contribution helps. We would greatly
                  appreciate your support.
                </p>
                <a href="/donate" class="cta-button cta-button-yellow">Sponsor us</a>
              </div>
            </div>
          </div>
        </div>
      </section>
    </div>

    <script>
      import { gsap } from "gsap";
      import { ScrollTrigger } from "gsap/ScrollTrigger";

      gsap.registerPlugin(ScrollTrigger);

      // Snap scrolling to sections
      const sections = gsap.utils.toArray(".section");

      // Create snap points for each section
      sections.forEach((section) => {
        ScrollTrigger.create({
          trigger: section as gsap.DOMTarget,
          start: "top top",
          end: "bottom top",
          snap: {
            snapTo: 1,
            duration: { min: 0.2, max: 0.6 },
            delay: 0.1,
            ease: "power1.inOut",
          },
        });
      });

      // Animate hero section elements
      gsap.to(".hero-title", {
        opacity: 1,
        y: 0,
        duration: 1,
        delay: 0.5,
        ease: "power3.out",
      });

      gsap.to(".hero-subtitle", {
        opacity: 1,
        y: 0,
        duration: 1,
        delay: 0.8,
        ease: "power3.out",
      });

      gsap.to(".scroll-indicator", {
        opacity: 1,
        duration: 1,
        delay: 1.2,
        ease: "power3.out",
      });

      // Animate content sections on scroll
      gsap.utils.toArray(".content-section").forEach((section) => {
        gsap.to(section as gsap.TweenTarget, {
          opacity: 1,
          y: 0,
          duration: 1,
          ease: "power3.out",
          scrollTrigger: {
            trigger: section as gsap.DOMTarget,
            start: "top 80%",
            end: "bottom 20%",
            toggleActions: "play none none reverse",
          },
        });
      });

      // Animate cards
      gsap.utils.toArray(".card").forEach((card, index) => {
        gsap.from(card as gsap.TweenTarget, {
          opacity: 0,
          y: 30,
          duration: 0.8,
          delay: index * 0.2,
          ease: "power3.out",
          scrollTrigger: {
            trigger: card as gsap.DOMTarget,
            start: "top 90%",
            toggleActions: "play none none reverse",
          },
        });
      });
    </script>
  </body>
</html>
